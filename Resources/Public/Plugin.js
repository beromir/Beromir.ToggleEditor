(()=>{var ie=Object.create;var Z=Object.defineProperty;var le=Object.getOwnPropertyDescriptor;var ge=Object.getOwnPropertyNames;var ae=Object.getPrototypeOf,se=Object.prototype.hasOwnProperty;var ne=(e,o)=>()=>(e&&(o=e(e=0)),o);var u=(e,o)=>()=>(o||e((o={exports:{}}).exports,o),o.exports);var ce=(e,o,a,l)=>{if(o&&typeof o=="object"||typeof o=="function")for(let s of ge(o))!se.call(e,s)&&s!==a&&Z(e,s,{get:()=>o[s],enumerable:!(l=le(o,s))||l.enumerable});return e};var m=(e,o,a)=>(a=e!=null?ie(ae(e)):{},ce(o||!e||!e.__esModule?Z(a,"default",{value:e,enumerable:!0}):a,e));function n(e){return(...o)=>{if(window["@Neos:HostPluginAPI"]&&window["@Neos:HostPluginAPI"][`@${e}`])return window["@Neos:HostPluginAPI"][`@${e}`](...o);throw new Error("You are trying to read from a consumer api that hasn't been initialized yet!")}}var d=ne(()=>{});var z=u((De,w)=>{d();w.exports=n("vendor")().React});var F=u((je,V)=>{d();V.exports=n("vendor")().PropTypes});var N=u((Ue,Y)=>{d();Y.exports=n("NeosProjectPackages")().ReactUiComponents});var H=u((Ee,S)=>{d();S.exports=n("NeosProjectPackages")().NeosUiDecorators});var q=u((et,R)=>{d();R.exports=n("vendor")().reactRedux});var L=u((ot,k)=>{d();k.exports=n("NeosProjectPackages")().NeosUiReduxStore});d();var W=n("manifest");var g=m(z()),i=m(F()),I=m(N()),j=m(H());var r={color:"beromir-toggleeditor-blateq-color",radio:"beromir-toggleeditor-blateq-radio",flex:"beromir-toggleeditor-blateq-flex",error:"beromir-toggleeditor-blateq-error",listButton:"beromir-toggleeditor-blateq-listButton",colorBox:"beromir-toggleeditor-blateq-colorBox",colorTransparent:"beromir-toggleeditor-blateq-colorTransparent",button:"beromir-toggleeditor-blateq-button",label:"beromir-toggleeditor-blateq-label",disabled:"beromir-toggleeditor-blateq-disabled",list:"beromir-toggleeditor-blateq-list",wrapper:"beromir-toggleeditor-blateq-wrapper",allowEmptyRadio:"beromir-toggleeditor-blateq-allowEmptyRadio",highlight:"beromir-toggleeditor-blateq-highlight",grid:"beromir-toggleeditor-blateq-grid",image:"beromir-toggleeditor-blateq-image",loading:"beromir-toggleeditor-blateq-loading",imageFull:"beromir-toggleeditor-blateq-imageFull",allowEmpty:"beromir-toggleeditor-blateq-allowEmpty",allowEmptyShow:"beromir-toggleeditor-blateq-allowEmptyShow",imageSVG:"beromir-toggleeditor-blateq-imageSVG",selected:"beromir-toggleeditor-blateq-selected",colorButton:"beromir-toggleeditor-blateq-colorButton"};var T=m(q()),U=m(L());function D(e){var o,a,l="";if(typeof e=="string"||typeof e=="number")l+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(o=0;o<s;o++)e[o]&&(a=D(e[o]))&&(l&&(l+=" "),l+=a)}else for(a in e)e[a]&&(l&&(l+=" "),l+=a);return l}function de(){for(var e,o,a=0,l="",s=arguments.length;a<s;a++)(e=arguments[a])&&(o=D(e))&&(l&&(l+=" "),l+=o);return l}var c=de;var ue=e=>({contextNodePath:e.focusedNodePath,dataSourceIdentifier:e.options.dataSourceIdentifier,dataSourceUri:e.options.dataSourceUri,dataSourceAdditionalData:e.options.dataSourceAdditionalData,dataSourceDisableCaching:!!e.options.dataSourceDisableCaching}),me={layout:"grid",values:{},columns:null,allowEmpty:!1,iconSize:null,disabled:!1,dataSourceIdentifier:null,dataSourceUri:null};function Q(e){let{layout:o,values:a,columns:l,allowEmpty:s,iconSize:M,disabled:K,dataSourceIdentifier:P,dataSourceUri:_}={...me,...e.options},{value:p,commit:B,highlight:G,i18nRegistry:C,dataSourcesDataLoader:$}=e,A=!!(P||_),[ee,te]=(0,g.useState)(A),[h,oe]=(0,g.useState)(A?[]:Ie(a,C));if((0,g.useEffect)(()=>{A&&$.resolveValue(ue(e),p).then(t=>{te(!1),oe(t)})}),ee)return g.default.createElement("div",{className:c(r.wrapper,r.loading),title:C.translate("Beromir.ToggleEditor:Main:loading")},g.default.createElement(I.Icon,{icon:"spinner",size:"lg",spin:!0}));if(!h||!h.length)return g.default.createElement("div",{className:c(r.wrapper,r.error)},C.translate(`Beromir.ToggleEditor:Main:error.${A?"noDataFromSource":"noNodeTypeDefintion"}`));let re=C.translate("Beromir.ToggleEditor:Main:reset");function f(t,b){if(b&&b.blur(),!t||s&&p===t.value){B("");return}B(t.value)}let O=t=>t.icon?g.default.createElement(I.Icon,{icon:t.icon,style:{transform:`rotate(${t.iconRotate||0}deg)`},size:M}):null,x=t=>s&&p===t.value?re:t.description||t.label,X=(t,b=r.allowEmpty)=>s?g.default.createElement("div",{className:c(b,p===t.value&&r.allowEmptyShow)},g.default.createElement(I.Icon,{size:"sm",icon:"times"})):null;return g.default.createElement("div",{className:c(r.wrapper,r[o],K&&r.disabled),style:{"--columns":l||h.length||1}},h.map(t=>{let b=p===t.value;switch(o){case"list":return g.default.createElement("button",{onClick:({currentTarget:y})=>f(t,y),type:"button",title:x(t),disabled:t.disabled,className:c(r.listButton,b&&r.selected)},g.default.createElement("span",{className:c(r.radio,b&&G&&r.highlight)},g.default.createElement("span",null)),O(t),J(t),t.label&&g.default.createElement("span",null,t.label),X(t,r.allowEmptyRadio));case"color":return g.default.createElement("div",{className:r.colorBox},g.default.createElement("button",{onClick:({currentTarget:y})=>f(t,y),type:"button",title:x(t),disabled:t.disabled,className:c(r.colorButton,b&&(G?r.highlight:r.selected),t.color==="transparent"&&r.colorTransparent),style:{backgroundColor:t.color}},X(t)),t.label&&g.default.createElement("span",{className:r.label},t.label));default:return g.default.createElement(I.Button,{onClick:()=>f(t),isActive:b,title:x(t),disabled:t.disabled,className:c(r.button,b&&G&&r.highlight)},O(t),J(t),t.label&&g.default.createElement("span",{className:c(t.icon||t.preview?r.label:null)},t.label),X(t))}}))}Q.propTypes={value:i.default.string,commit:i.default.func.isRequired,i18nRegistry:i.default.object.isRequired,options:i.default.shape({layout:i.default.oneOf(["grid","flex","list","color"]),columns:i.default.number,allowEmpty:i.default.bool,iconSize:i.default.oneOf(["xs","sm","lg","2x","3x"]),values:i.default.objectOf(i.default.shape({label:i.default.string,icon:i.default.string,iconRotate:i.default.number,description:i.default.string,color:i.default.string,hidden:i.default.bool,preview:i.default.string,previewFull:i.default.bool,disabled:i.default.bool})),dataSourceIdentifier:i.default.string,dataSourceUri:i.default.string,dataSourceDisableCaching:i.default.bool,dataSourceAdditionalData:i.default.objectOf(i.default.any)}).isRequired};function J(e){if(!e||!e.preview)return null;let o=e.preview,a=e.previewFull?r.imageFull:null,l=e.description||e.label;if(o.startsWith("<svg "))return g.default.createElement("div",{className:c(r.imageSVG,a),"aria-label":l,dangerouslySetInnerHTML:{__html:o}});let s=o.startsWith("resource://")?`/_Resources/Static/Packages/${o.substr(11)}`:o;return g.default.createElement("img",{src:s,className:c(r.image,a),alt:l})}function Ie(e,o){if(!e||typeof e!="object")return[];let a=[];for(let l in e){let s=e[l];s.hidden||a.push({...s,label:o.translate(s.label),description:o.translate(s.description),value:l})}return a}var pe=(0,j.neos)(e=>({i18nRegistry:e.get("i18n"),dataSourcesDataLoader:e.get("dataLoaders").get("DataSources")})),Ce=(0,T.connect)(e=>({focusedNodePath:U.selectors.CR.Nodes.focusedNodePathSelector(e)})),E=pe(Ce(Q));W("Beromir.ToggleEditor:Editor",{},e=>{e.get("inspector").get("editors").set("Beromir.ToggleEditor/Editor",{component:E})});})();
//# sourceMappingURL=Plugin.js.map
